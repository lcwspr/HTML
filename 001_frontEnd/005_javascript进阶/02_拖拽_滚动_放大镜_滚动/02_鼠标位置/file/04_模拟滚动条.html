<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <style>
        *{
            margin: 0;
            padding: 0;
        }
        .box{
            width: 800px;
            height: 400px;
            border: 1px solid #000;
            margin: 50px auto;
            position: relative;
        }
        .box .content{
            position: absolute;
            width: 740px;
            top: 0;
            left: 0;
            line-height: 150%;
            font-size: 14px;
            padding: 20px;
        }
        .box .content p{
            margin-bottom: 20px;
        }

        .box .bar{
            position: absolute;
            right: 0;
            top: 0;
            width: 20px;
            height: 400px;
            background-color: #ccc;
            cursor: default;
        }
        .box .bar b{
            position: absolute;
            top: 0;
            width: 20px;
            height: 100px;
            background-color: orangered;
            cursor: default;
        }
    </style>
</head>
<body>
    <div class="box" id="box">
        <div class="bar" id="bar">
            <b id="scrollBar"></b>
        </div>
        <div class="content" id="content">
            <p>哦i额积分joie我今儿就我i金额哦忘记我i我i阿胶额佛i阿胶哦i发放金额哦i阿胶我i恶杰佛i额进我房间嗯我i阿胶哦i我今儿欸附加费我i金额哦哦我今儿哦覅附件二</p>
            <p>哦i额积分joie我今儿就我i金额哦忘记我i我i阿胶额佛i阿胶哦i发放金额哦i阿胶我i恶杰佛i额进我房间嗯我i阿胶哦i我今儿欸附加费我i金额哦哦我今儿哦覅附件二</p>
            <p>哦i额积分joie我今儿就我i金额哦忘记我i我i阿胶额佛i阿胶哦i发放金额哦i阿胶我i恶杰佛i额进我房间嗯我i阿胶哦i我今儿欸附加费我i金额哦哦我今儿哦覅附件二</p>
            <p>哦i额积分joie我今儿就我i金额哦忘记我i我i阿胶额佛i阿胶哦i发放金额哦i阿胶我i恶杰佛i额进我房间嗯我i阿胶哦i我今儿欸附加费我i金额哦哦我今儿哦覅附件二</p>
            <p>哦i额积分joie我今儿就我i金额哦忘记我i我i阿胶额佛i阿胶哦i发放金额哦i阿胶我i恶杰佛i额进我房间嗯我i阿胶哦i我今儿欸附加费我i金额哦哦我今儿哦覅附件二</p>
            <p>哦i额积分joie我今儿就我i金额哦忘记我i我i阿胶额佛i阿胶哦i发放金额哦i阿胶我i恶杰佛i额进我房间嗯我i阿胶哦i我今儿欸附加费我i金额哦哦我今儿哦覅附件二</p>
            <p>哦i额积分joie我今儿就我i金额哦忘记我i我i阿胶额佛i阿胶哦i发放金额哦i阿胶我i恶杰佛i额进我房间嗯我i阿胶哦i我今儿欸附加费我i金额哦哦我今儿哦覅附件二</p>
            <p>哦i额积分joie我今儿就我i金额哦忘记我i我i阿胶额佛i阿胶哦i发放金额哦i阿胶我i恶杰佛i额进我房间嗯我i阿胶哦i我今儿欸附加费我i金额哦哦我今儿哦覅附件二</p>
            <p>哦i额积分joie我今儿就我i金额哦忘记我i我i阿胶额佛i阿胶哦i发放金额哦i阿胶我i恶杰佛i额进我房间嗯我i阿胶哦i我今儿欸附加费我i金额哦哦我今儿哦覅附件二</p>
            <p>哦i额积分joie我今儿就我i金额哦忘记我i我i阿胶额佛i阿胶哦i发放金额哦i阿胶我i恶杰佛i额进我房间嗯我i阿胶哦i我今儿欸附加费我i金额哦哦我今儿哦覅附件二</p>
            <p>哦i额积分joie我今儿就我i金额哦忘记我i我i阿胶额佛i阿胶哦i发放金额哦i阿胶我i恶杰佛i额进我房间嗯我i阿胶哦i我今儿欸附加费我i金额哦哦我今儿哦覅附件二</p>
            <p>哦i额积分joie我今儿就我i金额哦忘记我i我i阿胶额佛i阿胶哦i发放金额哦i阿胶我i恶杰佛i额进我房间嗯我i阿胶哦i我今儿欸附加费我i金额哦哦我今儿哦覅附件二</p>
            <p>哦i额积分joie我今儿就我i金额哦忘记我i我i阿胶额佛i阿胶哦i发放金额哦i阿胶我i恶杰佛i额进我房间嗯我i阿胶哦i我今儿欸附加费我i金额哦哦我今儿哦覅附件二</p>
            <p>哦i额积分joie我今儿就我i金额哦忘记我i我i阿胶额佛i阿胶哦i发放金额哦i阿胶我i恶杰佛i额进我房间嗯我i阿胶哦i我今儿欸附加费我i金额哦哦我今儿哦覅附件二</p>
            <p>哦i额积分joie我今儿就我i金额哦忘记我i我i阿胶额佛i阿胶哦i发放金额哦i阿胶我i恶杰佛i额进我房间嗯我i阿胶哦i我今儿欸附加费我i金额哦哦我今儿哦覅附件二</p>
            <p>哦i额积分joie我今儿就我i金额哦忘记我i我i阿胶额佛i阿胶哦i发放金额哦i阿胶我i恶杰佛i额进我房间嗯我i阿胶哦i我今儿欸附加费我i金额哦哦我今儿哦覅附件二</p>
            <p>哦i额积分joie我今儿就我i金额哦忘记我i我i阿胶额佛i阿胶哦i发放金额哦i阿胶我i恶杰佛i额进我房间嗯我i阿胶哦i我今儿欸附加费我i金额哦哦我今儿哦覅附件二</p>
            <p>哦i额积分joie我今儿就我i金额哦忘记我i我i阿胶额佛i阿胶哦i发放金额哦i阿胶我i恶杰佛i额进我房间嗯我i阿胶哦i我今儿欸附加费我i金额哦哦我今儿哦覅附件二</p>
            <p>哦i额积分joie我今儿就我i金额哦忘记我i我i阿胶额佛i阿胶哦i发放金额哦i阿胶我i恶杰佛i额进我房间嗯我i阿胶哦i我今儿欸附加费我i金额哦哦我今儿哦覅附件二</p>
            <p>哦i额积分joie我今儿就我i金额哦忘记我i我i阿胶额佛i阿胶哦i发放金额哦i阿胶我i恶杰佛i额进我房间嗯我i阿胶哦i我今儿欸附加费我i金额哦哦我今儿哦覅附件二</p>
            <p>哦i额积分joie我今儿就我i金额哦忘记我i我i阿胶额佛i阿胶哦i发放金额哦i阿胶我i恶杰佛i额进我房间嗯我i阿胶哦i我今儿欸附加费我i金额哦哦我今儿哦覅附件二</p>
            <p>哦i额积分joie我今儿就我i金额哦忘记我i我i阿胶额佛i阿胶哦i发放金额哦i阿胶我i恶杰佛i额进我房间嗯我i阿胶哦i我今儿欸附加费我i金额哦哦我今儿哦覅附件二</p>
            <p>哦i额积分joie我今儿就我i金额哦忘记我i我i阿胶额佛i阿胶哦i发放金额哦i阿胶我i恶杰佛i额进我房间嗯我i阿胶哦i我今儿欸附加费我i金额哦哦我今儿哦覅附件二</p>
            <p>哦i额积分joie我今儿就我i金额哦忘记我i我i阿胶额佛i阿胶哦i发放金额哦i阿胶我i恶杰佛i额进我房间嗯我i阿胶哦i我今儿欸附加费我i金额哦哦我今儿哦覅附件二</p>
            <p>哦i额积分joie我今儿就我i金额哦忘记我i我i阿胶额佛i阿胶哦i发放金额哦i阿胶我i恶杰佛i额进我房间嗯我i阿胶哦i我今儿欸附加费我i金额哦哦我今儿哦覅附件二</p>
            <p>哦i额积分joie我今儿就我i金额哦忘记我i我i阿胶额佛i阿胶哦i发放金额哦i阿胶我i恶杰佛i额进我房间嗯我i阿胶哦i我今儿欸附加费我i金额哦哦我今儿哦覅附件二</p>
            <p>哦i额积分joie我今儿就我i金额哦忘记我i我i阿胶额佛i阿胶哦i发放金额哦i阿胶我i恶杰佛i额进我房间嗯我i阿胶哦i我今儿欸附加费我i金额哦哦我今儿哦覅附件二</p>
            <p>哦i额积分joie我今儿就我i金额哦忘记我i我i阿胶额佛i阿胶哦i发放金额哦i阿胶我i恶杰佛i额进我房间嗯我i阿胶哦i我今儿欸附加费我i金额哦哦我今儿哦覅附件二</p>
            <p>哦i额积分joie我今儿就我i金额哦忘记我i我i阿胶额佛i阿胶哦i发放金额哦i阿胶我i恶杰佛i额进我房间嗯我i阿胶哦i我今儿欸附加费我i金额哦哦我今儿哦覅附件二</p>
            <p>哦i额积分joie我今儿就我i金额哦忘记我i我i阿胶额佛i阿胶哦i发放金额哦i阿胶我i恶杰佛i额进我房间嗯我i阿胶哦i我今儿欸附加费我i金额哦哦我今儿哦覅附件二</p>
            <p>哦i额积分joie我今儿就我i金额哦忘记我i我i阿胶额佛i阿胶哦i发放金额哦i阿胶我i恶杰佛i额进我房间嗯我i阿胶哦i我今儿欸附加费我i金额哦哦我今儿哦覅附件二</p>
            <p>哦i额积分joie我今儿就我i金额哦忘记我i我i阿胶额佛i阿胶哦i发放金额哦i阿胶我i恶杰佛i额进我房间嗯我i阿胶哦i我今儿欸附加费我i金额哦哦我今儿哦覅附件二</p>
            <p>哦i额积分joie我今儿就我i金额哦忘记我i我i阿胶额佛i阿胶哦i发放金额哦i阿胶我i恶杰佛i额进我房间嗯我i阿胶哦i我今儿欸附加费我i金额哦哦我今儿哦覅附件二</p>
            <p>哦i额积分joie我今儿就我i金额哦忘记我i我i阿胶额佛i阿胶哦i发放金额哦i阿胶我i恶杰佛i额进我房间嗯我i阿胶哦i我今儿欸附加费我i金额哦哦我今儿哦覅附件二</p>
            <p>哦i额积分joie我今儿就我i金额哦忘记我i我i阿胶额佛i阿胶哦i发放金额哦i阿胶我i恶杰佛i额进我房间嗯我i阿胶哦i我今儿欸附加费我i金额哦哦我今儿哦覅附件二</p>
            <p>哦i额积分joie我今儿就我i金额哦忘记我i我i阿胶额佛i阿胶哦i发放金额哦i阿胶我i恶杰佛i额进我房间嗯我i阿胶哦i我今儿欸附加费我i金额哦哦我今儿哦覅附件二</p>
        </div>

    </div>
    <script>

        // 得到所有元素
        var oBox = document.getElementById("box");
        var oContent = document.getElementById('content');
        var oScrollBar = document.getElementById('scrollBar');
        var oBar = document.getElementById('bar');

        // 内容和盒子比
        // var rate = oContent.clientHeight / oBox.clientHeight;
        // oScrollBar.style.height = oBar.clientHeight / rate + "px";
        oScrollBar.style.height = oBox.clientHeight / oContent.clientHeight * oBox.clientHeight + "px";

        var i = 0;

        // 拖拽模型
        oScrollBar.onmousedown = function (event) {
            event = event || window.event;
            // 鼠标按下的一瞬间，记录一下当前鼠标在视口里面的y和小滑块的offsetTop的差
            // 这个差是两部分组成的，一部分是box距离视口顶部的距离，另一部分鼠标指针到滑块的距离
            var deltaY = event.clientY - oScrollBar.offsetTop;

            document.onmousemove = function (event) {

                event = event || window.event;
                // event.preventDefault();  // return false;和preventDefault一样

                var y = event.clientY - deltaY;
                y = y <0 ?0 :y;
                y = y > oBar.clientHeight - oScrollBar.clientHeight?oBar.clientHeight - oScrollBar.clientHeight:y;

                oScrollBar.style.top = y + "px";
                // oContent.style.top = -y * rate + "px";
                oContent.style.top = -y / oBox.clientHeight * oContent.clientHeight  + "px";
                // 给事件监听函数return 一个false值，那么移动的时候就不能圈选文字了
                return false;
            };


            document.onmouseup = function () {
                document.onmousemove = null;
            };
        };



    </script>
</body>
</html>